(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[75651],{55642:function(e,t,n){"use strict";n.d(t,{h:function(){return p}});var r=n(37500),i=n(57835);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=(0,i.XM)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,o,s=u(d);function d(e){var t,n,r,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=s.call(this,e),n=f(t),o=void 0,(r="_element")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e.type!==i.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return t}return t=d,(n=[{key:"update",value:function(e,t){var n=this,i=a(t,2),o=i[0],s=i[1];return this._element&&this._element.localName===o?(s&&Object.entries(s).forEach((function(e){var t=a(e,2),r=t[0],i=t[1];n._element[r]=i})),r.Jb):this.render(o,s)}},{key:"render",value:function(e,t){var n=this;return this._element=document.createElement(e),t&&Object.entries(t).forEach((function(e){var t=a(e,2),r=t[0],i=t[1];n._element[r]=i})),this._element}}])&&c(t.prototype,n),o&&c(t,o),d}(i.Xe))},32594:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var r=function(e){return e.stopPropagation()}},68101:function(e,t,n){"use strict";var r,i,o,a=n(37500),s=n(33310),c=n(8636),l=n(14516),u=n(47181),d=n(58831),f=n(57066),h=n(57292),p=n(74186),m=n(26765),y=n(73826);n(77576),n(10983),n(52039);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(e){if(Array.isArray(e))return B(e)}(e)||I(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(){P=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!A(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||I(t)||j(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=T(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:D(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=D(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function S(e){var t,n=T(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function O(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function A(e){return e.decorators&&e.decorators.length}function z(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function D(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function T(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function j(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F=function(e){return(0,a.dy)(r||(r=R(["<mwc-list-item\n  class=","\n>\n  ","\n</mwc-list-item>"])),(0,c.$)({"add-new":"add_new"===e.area_id}),e.name)};!function(e,t,n,r){var i=P();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(z(o.descriptor)||z(i.descriptor)){if(A(o)||A(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(A(o)){if(A(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}O(o,i)}else t.push(o)}return t}(a.d.map(S)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,s.Mo)("ha-area-picker")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,t);var n=k(r);function r(){var t;g(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(x(t)),t}return r}(t);return{F:n,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"disabled",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"required",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_areas",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_devices",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_entities",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,s.IO)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_filter",value:void 0},{kind:"field",key:"_init",value:function(){return!1}},{kind:"method",key:"hassSubscribe",value:function(){var e=this;return[(0,f.sG)(this.hass.connection,(function(t){e._areas=t})),(0,h.q4)(this.hass.connection,(function(t){e._devices=t})),(0,p.LM)(this.hass.connection,(function(t){e._entities=t}))]}},{kind:"method",key:"open",value:function(){var e=this;this.updateComplete.then((function(){var t;null===(t=e.comboBox)||void 0===t||t.open()}))}},{kind:"method",key:"focus",value:function(){var e=this;this.updateComplete.then((function(){var t;null===(t=e.comboBox)||void 0===t||t.focus()}))}},{kind:"field",key:"_getAreas",value:function(){var e=this;return(0,l.Z)((function(t,n,r,i,o,a,s,c,l){if(!t.length)return[{area_id:"no_areas",name:e.hass.localize("ui.components.area-picker.no_areas"),picture:null}];var u,f,h={};if(i||o||a){var p,m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(r);try{for(m.s();!(p=m.n()).done;){var y=p.value;y.device_id&&(y.device_id in h||(h[y.device_id]=[]),h[y.device_id].push(y))}}catch(w){m.e(w)}finally{m.f()}u=n,f=r.filter((function(e){return e.area_id}))}else s&&(u=n),c&&(f=r.filter((function(e){return e.area_id})));i&&(u=u.filter((function(e){var t=h[e.id];return!(!t||!t.length)&&h[e.id].some((function(e){return i.includes((0,d.M)(e.entity_id))}))})),f=f.filter((function(e){return i.includes((0,d.M)(e.entity_id))}))),o&&(u=u.filter((function(e){var t=h[e.id];return!t||!t.length||r.every((function(e){return!o.includes((0,d.M)(e.entity_id))}))})),f=f.filter((function(e){return!o.includes((0,d.M)(e.entity_id))}))),a&&(u=u.filter((function(t){var n=h[t.id];return!(!n||!n.length)&&h[t.id].some((function(t){var n=e.hass.states[t.entity_id];return!!n&&(n.attributes.device_class&&a.includes(n.attributes.device_class))}))})),f=f.filter((function(t){var n=e.hass.states[t.entity_id];return n.attributes.device_class&&a.includes(n.attributes.device_class)}))),s&&(u=u.filter((function(e){return s(e)}))),c&&(f=f.filter((function(e){return c(e)})));var v,b,g=t;(u&&(v=u.filter((function(e){return e.area_id})).map((function(e){return e.area_id}))),f)&&(v=(null!==(b=v)&&void 0!==b?b:[]).concat(f.filter((function(e){return e.area_id})).map((function(e){return e.area_id}))));return v&&(g=t.filter((function(e){return v.includes(e.area_id)}))),g.length||(g=[{area_id:"no_areas",name:e.hass.localize("ui.components.area-picker.no_match"),picture:null}]),l?g:[].concat(_(g),[{area_id:"add_new",name:e.hass.localize("ui.components.area-picker.add_new"),picture:null}])}))}},{kind:"method",key:"updated",value:function(e){(!this._init&&this._devices&&this._areas&&this._entities||e.has("_opened")&&this._opened)&&(this._init=!0,this.comboBox.items=this._getAreas(this._areas,this._devices,this._entities,this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd))}},{kind:"method",key:"render",value:function(){var e;return this._devices&&this._areas&&this._entities?(0,a.dy)(o||(o=R(["\n      <ha-combo-box\n        .hass=","\n        .helper=",'\n        item-value-path="area_id"\n        item-id-path="area_id"\n        item-label-path="name"\n        .value=',"\n        .disabled=","\n        .required=","\n        .label=","\n        .placeholder=","\n        .renderer=","\n        @filter-changed=","\n        @opened-changed=","\n        @value-changed=","\n      >\n      </ha-combo-box>\n    "])),this.hass,this.helper,this.value,this.disabled,this.required,void 0===this.label&&this.hass?this.hass.localize("ui.components.area-picker.area"):this.label,this.placeholder?null===(e=this._area(this.placeholder))||void 0===e?void 0:e.name:void 0,F,this._filterChanged,this._openedChanged,this._areaChanged):(0,a.dy)(i||(i=R([""])))}},{kind:"field",key:"_area",value:function(){var e=this;return(0,l.Z)((function(t){var n;return null===(n=e._areas)||void 0===n?void 0:n.find((function(e){return e.area_id===t}))}))}},{kind:"method",key:"_filterChanged",value:function(e){var t,n,r=this;(this._filter=e.detail.value,this._filter)?this.noAdd||0!==(null===(t=this.comboBox._comboBox.filteredItems)||void 0===t?void 0:t.length)?this.comboBox.filteredItems=null===(n=this.comboBox.items)||void 0===n?void 0:n.filter((function(e){return e.name.toLowerCase().includes(r._filter.toLowerCase())})):this.comboBox.filteredItems=[{area_id:"add_new_suggestion",name:this.hass.localize("ui.components.area-picker.add_new_sugestion",{name:this._filter}),picture:null}]:this.comboBox.filteredItems=this.comboBox.items}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_areaChanged",value:function(e){var t=this;e.stopPropagation();var n,r,i=e.detail.value;("no_areas"===i&&(i=""),["add_new_suggestion","add_new"].includes(i))?(e.target.value=this._value,(0,m.D9)(this,{title:this.hass.localize("ui.components.area-picker.add_dialog.title"),text:this.hass.localize("ui.components.area-picker.add_dialog.text"),confirmText:this.hass.localize("ui.components.area-picker.add_dialog.add"),inputLabel:this.hass.localize("ui.components.area-picker.add_dialog.name"),defaultValue:"add_new_suggestion"===i?this._filter:void 0,confirm:(n=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,f.Lo)(t.hass,{name:n});case 5:return r=e.sent,t._areas=[].concat(_(t._areas),[r]),t.comboBox.filteredItems=t._getAreas(t._areas,t._devices,t._entities,t.includeDomains,t.excludeDomains,t.includeDeviceClasses,t.deviceFilter,t.entityFilter,t.noAdd),e.next=10,t.updateComplete;case 10:return e.next=12,t.comboBox.updateComplete;case 12:t._setValue(r.area_id),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),(0,m.Ys)(t,{title:t.hass.localize("ui.components.area-picker.add_dialog.failed_create_area"),text:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e){return r.apply(this,arguments)})})):i!==this._value&&this._setValue(i)}},{kind:"method",key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout((function(){(0,u.B)(t,"value-changed",{value:e}),(0,u.B)(t,"change")}),0)}}]}}),(0,y.f)(a.oi))},640:function(e,t,n){"use strict";var r,i,o,a,s,c=n(37500),l=n(33310),u=n(47181),d=n(47271);n(77576),n(29925);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){return function(e){if(Array.isArray(e))return z(e)}(e)||D(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function k(){k=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!C(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||D(t)||A(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=O(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:S(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=S(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function E(e){var t,n=O(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function x(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function C(e){return e.decorators&&e.decorators.length}function P(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function S(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function O(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function A(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=[],B=function(e){return(0,c.dy)(r||(r=T(['<mwc-list-item\n  graphic="avatar"\n>\n  <ha-icon .icon=',' slot="graphic"></ha-icon>\n  ',"\n</mwc-list-item>"])),e.icon,e.icon)};!function(e,t,n,r){var i=k();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(P(o.descriptor)||P(i.descriptor)){if(C(o)||C(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(C(o)){if(C(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}x(o,i)}else t.push(o)}return t}(a.d.map(E)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,l.Mo)("ha-icon-picker")],(function(e,t){var r,f,p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,t);var n=b(r);function r(){var t;y(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(g(t)),t}return r}(t);return{F:p,d:[{kind:"field",decorators:[(0,l.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"fallbackPath",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"invalid",value:function(){return!1}},{kind:"field",decorators:[(0,l.SB)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,l.IO)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"method",key:"render",value:function(){return(0,c.dy)(i||(i=T(["\n      <ha-combo-box\n        .hass=",'\n        item-value-path="icon"\n        item-label-path="icon"\n        .value=',"\n        allow-custom-value\n        .filteredItems=","\n        .label=","\n        .helper=","\n        .disabled=","\n        .required=","\n        .placeholder=","\n        .errorMessage=","\n        .invalid=","\n        .renderer=","\n        icon\n        @opened-changed=","\n        @value-changed=","\n        @filter-changed=","\n      >\n        ","\n      </ha-combo-box>\n    "])),this.hass,this._value,j,this.label,this.helper,this.disabled,this.required,this.placeholder,this.errorMessage,this.invalid,B,this._openedChanged,this._valueChanged,this._filterChanged,this._value||this.placeholder?(0,c.dy)(o||(o=T(["\n              <ha-icon .icon=",' slot="icon">\n              </ha-icon>\n            '])),this._value||this.placeholder):this.fallbackPath?(0,c.dy)(a||(a=T(["<ha-svg-icon\n              .path=",'\n              slot="icon"\n            ></ha-svg-icon>'])),this.fallbackPath):"")}},{kind:"method",key:"_openedChanged",value:(f=m(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._opened=t.detail.value,!this._opened||j.length){e.next=8;break}return e.next=4,n.e(71639).then(n.t.bind(n,71639,19));case 4:r=e.sent,j=r.default.map((function(e){return{icon:"mdi:".concat(e.name),keywords:e.keywords}})),this.comboBox.filteredItems=j,Object.keys(d.g).forEach((function(e){i._loadCustomIconItems(e)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{kind:"method",key:"_loadCustomIconItems",value:(r=m(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"==typeof(r=d.g[t].getIconList)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r();case 6:i=e.sent,o=i.map((function(e){var n;return{icon:"".concat(t,":").concat(e.name),keywords:null!==(n=e.keywords)&&void 0!==n?n:[]}})),(n=j).push.apply(n,h(o)),this.comboBox.filteredItems=j,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.warn("Unable to load icon list for ".concat(t," iconset"));case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,(0,u.B)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{kind:"method",key:"_filterChanged",value:function(e){var t=e.detail.value.toLowerCase();if(t.length>=2){var n=[],r=[];j.forEach((function(e){e.icon.includes(t)?n.push(e):e.keywords.some((function(e){return e.includes(t)}))&&r.push(e)})),n.push.apply(n,r),n.length>0?this.comboBox.filteredItems=n:this.comboBox.filteredItems=[{icon:t,keywords:[]}]}else this.comboBox.filteredItems=j}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"get",static:!0,key:"styles",value:function(){return(0,c.iv)(s||(s=T(['\n      ha-icon,\n      ha-svg-icon {\n        color: var(--primary-text-color);\n        position: relative;\n        bottom: 2px;\n      }\n      *[slot="prefix"] {\n        margin-right: 8px;\n      }\n    '])))}}]}}),c.oi)},22814:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{uw:function(){return s},iI:function(){return c},W2:function(){return l},TZ:function(){return u}});var o,a,s="".concat(location.protocol,"//").concat(location.host),c=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},l=32143==n.j?(o=i(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:r,password:i}));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return o.apply(this,arguments)}):null,u=32143==n.j?(a=i(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:n,password:r}));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)}):null},31644:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}n.d(t,{qW:function(){return c},kU:function(){return l},jU:function(){return u},nk:function(){return d},Xn:function(){return y},Lr:function(){return p},i4:function(){return f},zj:function(){return g},tb:function(){return m},B:function(){return _},Mw:function(){return v}});var i=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r,i,o){var a,s,c,l,u,d,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=f.length,s=new Array(a>5?a-5:0),c=5;c<a;c++)s[c-5]=f[c];if((l=i[t])||(l=i[t]={}),!(u=l[o])){e.next=6;break}return e.abrupt("return",u);case 6:return d=r.apply(void 0,[i,o].concat(s)),l[o]=d,d.then((function(){return setTimeout((function(){l[o]=void 0}),n)}),(function(){l[o]=void 0})),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))});return function(e,n,r,i,o){return t.apply(this,arguments)}}(),o=n(22814);function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))}}var c=2,l="hls",u="web_rtc",d=function(e){return"/api/camera_proxy_stream/".concat(e.entity_id,"?token=").concat(e.attributes.access_token)},f=function(){var e=s(regeneratorRuntime.mark((function e(t,n,r,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("_cameraTmbUrl",9e3,h,t,n);case 2:return a=e.sent,e.abrupt("return","".concat(a,"&width=").concat(r,"&height=").concat(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),h=function(){var e=s(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.iI)(t,"/api/camera_proxy/".concat(n));case 2:return r=e.sent,e.abrupt("return",t.hassUrl(r.path));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=s(regeneratorRuntime.mark((function e(t,n,r){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:"camera/stream",entity_id:n},r&&(i.format=r),e.next=4,t.callWS(i);case 4:return(o=e.sent).url=t.hassUrl(o.url),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(e,t,n){return e.callWS({type:"camera/web_rtc_offer",entity_id:t,offer:n})},y=function(e,t){return e.callWS({type:"camera/get_prefs",entity_id:t})},v=function(e,t,n){return e.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},n))},b="media-source://camera/",_=function(e){return e.startsWith(b)},g=function(e){return e.substring(b.length)}},73728:function(e,t,n){"use strict";n.d(t,{pV:function(){return a},P3:function(){return s},Ky:function(){return l},D4:function(){return u},XO:function(){return d},zO:function(){return f},oi:function(){return h},d4:function(){return p},D7:function(){return m},ZJ:function(){return v},V3:function(){return b},WW:function(){return _}});var r=n(97330),i=n(38346),o=n(5986),a=32143==n.j?["usb","unignore","dhcp","homekit","ssdp","zeroconf","discovery","integration_discovery","mqtt","hassio"]:null,s=32143==n.j?["reauth"]:null,c={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},l=function(e,t){var n;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(n=e.userData)||void 0===n?void 0:n.showAdvanced)},c)},u=function(e,t){return e.callApi("GET","config/config_entries/flow/".concat(t),void 0,c)},d=function(e,t,n){return e.callApi("POST","config/config_entries/flow/".concat(t),n,c)},f=function(e,t,n){return e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:n})},h=function(e,t){return e.callApi("DELETE","config/config_entries/flow/".concat(t))},p=function(e,t){return e.callApi("GET","config/config_entries/flow_handlers".concat(t?"?type=".concat(t):""))},m=function(e){return e.sendMessagePromise({type:"config_entries/flow/progress"})},y=function(e,t){return e.subscribeEvents((0,i.D)((function(){return m(e).then((function(e){return t.setState(e,!0)}))}),500,!0),"config_entry_discovered")},v=function(e){return(0,r._)(e,"_configFlowProgress",m,y)},b=function(e,t){return v(e.connection).subscribe(t)},_=function(e,t){return t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e("component.".concat(t.handler,".config.flow_title"),t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,o.Lh)(e,t.handler)):(0,o.Lh)(e,t.handler)}},24833:function(e,t,n){"use strict";n.d(t,{oF:function(){return h},kK:function(){return p},k6:function(){return m},zG:function(){return y},BD:function(){return v},hF:function(){return _},Sk:function(){return g},X4:function(){return w},UJ:function(){return k},Fj:function(){return x},M$:function(){return C}});var r=n(49706);if(32143==n.j)var i=n(58831);if(32143==n.j)var o=n(22311);var a=n(40095);if(32143==n.j)var s=n(85415);if(32143==n.j)var c=n(26765);if(32143==n.j)var l=n(81796);function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}var d,f,h=1,p=2,m=4,y=8,v=16,b=function(e){return(0,a.f)(e,m)&&"number"==typeof e.in_progress},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e.state===r.uo||t&&Boolean(e.attributes.skipped_version))&&(0,a.e)(e,h)},g=function(e){return function(e){return b(e.attributes)}(e)||!!e.attributes.in_progress},w=function(e){return b(e)||!!e.in_progress},k=function(e,t){return e.callWS({type:"update/release_notes",entity_id:t})},E=function(e){return Object.values(e).filter((function(e){return"update"===(0,o.N)(e)})).sort((function(e,t){return"Home Assistant Core"===e.attributes.title?-3:"Home Assistant Core"===t.attributes.title?3:"Home Assistant Operating System"===e.attributes.title?-2:"Home Assistant Operating System"===t.attributes.title?2:"Home Assistant Supervisor"===e.attributes.title?-1:"Home Assistant Supervisor"===t.attributes.title?1:(0,s.f)(e.attributes.title||e.attributes.friendly_name||"",t.attributes.title||t.attributes.friendly_name||"")}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(e).filter((function(e){return _(e,t)}))},C=32143==n.j?(d=regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=E(n.states).map((function(e){return e.entity_id}))).length){e.next=4;break}return(0,c.Ys)(t,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),e.abrupt("return");case 4:return o=0,e.next=7,n.connection.subscribeEvents((function(e){"update"===(0,i.M)(e.data.entity_id)&&(o++,(0,l.C)(t,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:o})}))}),"state_changed");case 7:return a=e.sent,e.next=10,n.callService("homeassistant","update_entity",{entity_id:r});case 10:return e.next=12,new Promise((function(e){return setTimeout(e,1e4)}));case 12:a(),0===o&&(0,l.C)(t,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 14:case"end":return e.stop()}}),e)})),f=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=d.apply(e,t);function o(e){u(i,n,r,o,a,"next",e)}function a(e){u(i,n,r,o,a,"throw",e)}o(void 0)}))},function(e,t){return f.apply(this,arguments)}):null},52871:function(e,t,n){"use strict";n.d(t,{G:function(){return i},w:function(){return o}});var r=n(47181),i=function(){return Promise.all([n.e(29563),n.e(98985),n.e(79071),n.e(24103),n.e(88278),n.e(59799),n.e(6294),n.e(41985),n.e(85084),n.e(45507),n.e(54444),n.e(44281),n.e(51644),n.e(49842),n.e(1548),n.e(49075),n.e(81480),n.e(54930),n.e(98402),n.e(96958),n.e(3555),n.e(86630),n.e(81545),n.e(34821),n.e(12545),n.e(13701),n.e(73826),n.e(77576),n.e(9381),n.e(25257)]).then(n.bind(n,81585))},o=function(e,t,n){(0,r.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:i,dialogParams:Object.assign({},t,{flowConfig:n,dialogParentElement:e})})}},17416:function(e,t,n){"use strict";n.d(t,{c:function(){return g}});var r,i,o,a,s,c=n(37500),l=n(5986),u=function(e,t){var n;return e.callApi("POST","config/config_entries/options/flow",{handler:t,show_advanced_options:Boolean(null===(n=e.userData)||void 0===n?void 0:n.showAdvanced)})},d=function(e,t){return e.callApi("GET","config/config_entries/options/flow/".concat(t))},f=function(e,t,n){return e.callApi("POST","config/config_entries/options/flow/".concat(t),n)},h=function(e,t){return e.callApi("DELETE","config/config_entries/options/flow/".concat(t))},p=n(52871);function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}var g=function(e,t,n){return(0,p.w)(e,{startFlowHandler:t.entry_id,domain:t.domain,manifest:n},{loadDevicesAndAreas:!1,createFlow:(b=_(regeneratorRuntime.mark((function e(n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([u(n,r),n.loadBackendTranslation("options",t.domain)]);case 2:return i=e.sent,o=y(i,1),a=o[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)}),fetchFlow:(v=_(regeneratorRuntime.mark((function e(n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d(n,r),n.loadBackendTranslation("options",t.domain)]);case 2:return i=e.sent,o=y(i,1),a=o[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),handleFlowStep:f,deleteFlow:h,renderAbortDescription:function(e,n){var i=e.localize("component.".concat(t.domain,".options.abort.").concat(n.reason),n.description_placeholders);return i?(0,c.dy)(r||(r=m(["\n              <ha-markdown\n                breaks\n                allowsvg\n                .content=","\n              ></ha-markdown>\n            "])),i):""},renderShowFormStepHeader:function(e,n){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".title"))||e.localize("ui.dialogs.options_flow.form.header")},renderShowFormStepDescription:function(e,n){var r=e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".description"),n.description_placeholders);return r?(0,c.dy)(i||(i=m(["\n              <ha-markdown\n                allowsvg\n                breaks\n                .content=","\n              ></ha-markdown>\n            "])),r):""},renderShowFormStepFieldLabel:function(e,n,r){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".data.").concat(r.name))},renderShowFormStepFieldHelper:function(e,n,r){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".data_description.").concat(r.name))},renderShowFormStepFieldError:function(e,n,r){return e.localize("component.".concat(t.domain,".options.error.").concat(r),n.description_placeholders)},renderExternalStepHeader:function(e,t){return""},renderExternalStepDescription:function(e,t){return""},renderCreateEntryDescription:function(e,t){return(0,c.dy)(o||(o=m(["\n          <p>","</p>\n        "])),e.localize("ui.dialogs.options_flow.success.description"))},renderShowFormProgressHeader:function(e,n){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".title"))||e.localize("component.".concat(t.domain,".title"))},renderShowFormProgressDescription:function(e,n){var r=e.localize("component.".concat(t.domain,".options.progress.").concat(n.progress_action),n.description_placeholders);return r?(0,c.dy)(a||(a=m(["\n              <ha-markdown\n                allowsvg\n                breaks\n                .content=","\n              ></ha-markdown>\n            "])),r):""},renderMenuHeader:function(e,n){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".title"))||e.localize("component.".concat(t.domain,".title"))},renderMenuDescription:function(e,n){var r=e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".description"),n.description_placeholders);return r?(0,c.dy)(s||(s=m(["\n              <ha-markdown\n                allowsvg\n                breaks\n                .content=","\n              ></ha-markdown>\n            "])),r):""},renderMenuOption:function(e,n,r){return e.localize("component.".concat(t.domain,".options.step.").concat(n.step_id,".menu_options.").concat(r),n.description_placeholders)},renderLoadingDescription:function(e,n){return e.localize("component.".concat(t.domain,".options.loading"))||e.localize("ui.dialogs.options_flow.loading.".concat(n),{integration:(0,l.Lh)(e.localize,t.domain)})}});var v,b}},97058:function(e,t,n){"use strict";n.d(t,{O:function(){return i},r:function(){return o}});var r=n(47181),i=function(){return Promise.all([n.e(85084),n.e(44281),n.e(34821),n.e(73826),n.e(77576),n.e(10586)]).then(n.bind(n,10586))},o=function(e,t){(0,r.B)(e,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:i,dialogParams:t})}},49070:function(e,t,n){"use strict";n.r(t),n.d(t,{DialogEntityEditor:function(){return rt}});n(27303),n(22001);var r,i,o,a,s,c,l,u,d,f,h,p,m,y,v,b,_,g,w,k,E,x=n(37500),C=n(33310),P=n(40015),S=n(55642),O=n(47181),A=n(91741),z=(n(34821),n(90806),n(10983),n(95081),n(74186)),D=n(74265),T=n(11654),j=n(27322),B={input_number:"entity-settings-helper-tab",input_select:"entity-settings-helper-tab",input_text:"entity-settings-helper-tab",input_boolean:"entity-settings-helper-tab",input_datetime:"entity-settings-helper-tab",counter:"entity-settings-helper-tab",timer:"entity-settings-helper-tab",input_button:"entity-settings-helper-tab"},I=(n(51187),n(1819),n(44577),n(14516)),R=n(7323),F=n(32594),M=n(58831),L=n(16023),H=n(40095),V=n(85415),U=(n(9381),n(68101),n(46583),n(640),n(33220),n(86630),n(14089),n(43709),n(3555),n(31644)),W=n(81582),q=n(73728),N=n(57292),$=n(5986),X=n(17416),Z=n(26765),G=n(73826),K=n(97058),Y=n(94458);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Q(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Q(o,r,i,a,s,"next",e)}function s(e){Q(o,r,i,a,s,"throw",e)}a(void 0)}))}}function te(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ne(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||be(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var i=ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(){le=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!fe(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||be(t)||ye(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=me(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:pe(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=pe(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function ue(e){var t,n=me(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function de(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function fe(e){return e.decorators&&e.decorators.length}function he(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function pe(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function me(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}function ye(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _e(e,t,n){return _e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ge(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},_e(e,t,n||e)}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}var we,ke,Ee,xe,Ce,Pe,Se,Oe,Ae,ze,De,Te={cover:[["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]],binary_sensor:[["lock"],["window","door","garage_door","opening"],["battery","battery_charging"],["cold","gas","heat"],["running","motion","moving","occupancy","presence","vibration"],["power","plug","light"],["smoke","safety","sound","problem","tamper","carbon_monoxide","moisture"]]},je={temperature:["°C","°F","K"],pressure:["hPa","Pa","kPa","bar","cbar","mbar","mmHg","inHg","psi"]},Be=["cover","fan","light","lock","siren"];!function(e,t,n,r){var i=le();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(he(o.descriptor)||he(i.descriptor)){if(fe(o)||fe(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(fe(o)){if(fe(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}de(o,i)}else t.push(o)}return t}(a.d.map(ue)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,C.Mo)("entity-registry-settings")],(function(e,t){var n,P,S,A,D,j=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(r,t);var n=ae(r);function r(){var t;ie(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(ce(t)),t}return r}(t);return{F:j,d:[{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.Cb)()],key:"entry",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_deviceClass",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_switchAs",value:function(){return"switch"}},{kind:"field",decorators:[(0,C.SB)()],key:"_areaId",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_disabledBy",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_hiddenBy",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_device",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_helperConfigEntry",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_unit_of_measurement",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_submitting",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_cameraPrefs",value:void 0},{kind:"field",key:"_origEntityId",value:void 0},{kind:"field",key:"_deviceLookup",value:void 0},{kind:"field",key:"_deviceClassOptions",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var e=this;return[(0,N.q4)(this.hass.connection,(function(t){e._deviceLookup={};var n,r=re(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e._deviceLookup[i.id]=i}}catch(o){r.e(o)}finally{r.f()}e.entry.device_id&&(e._device=e._deviceLookup[e.entry.device_id])}))]}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;_e(ge(j.prototype),"firstUpdated",this).call(this,e),this.entry.config_entry_id&&(0,W.pB)(this.hass,{type:"helper",domain:this.entry.platform}).then((function(e){t._helperConfigEntry=e.find((function(e){return e.entry_id===t.entry.config_entry_id}))}))}},{kind:"method",key:"willUpdate",value:function(e){if(_e(ge(j.prototype),"willUpdate",this).call(this,e),e.has("entry")){this._error=void 0,this._name=this.entry.name||"",this._icon=this.entry.icon||"",this._deviceClass=this.entry.device_class||this.entry.original_device_class,this._origEntityId=this.entry.entity_id,this._areaId=this.entry.area_id,this._entityId=this.entry.entity_id,this._disabledBy=this.entry.disabled_by,this._hiddenBy=this.entry.hidden_by,this._device=this.entry.device_id&&this._deviceLookup?this._deviceLookup[this.entry.device_id]:void 0;var t=(0,M.M)(this.entry.entity_id);if("camera"===t&&(0,R.p)(this.hass,"stream")){var n=this.hass.states[this.entry.entity_id];n&&(0,H.e)(n,U.qW)&&n.attributes.frontend_stream_type===U.kU&&this._fetchCameraPrefs()}if("sensor"===t){var r,i=this.hass.states[this.entry.entity_id];this._unit_of_measurement=null==i||null===(r=i.attributes)||void 0===r?void 0:r.unit_of_measurement}var o=Te[t];if(o){this._deviceClassOptions=[[],[]];var a,s=re(o);try{for(s.s();!(a=s.n()).done;){var c,l=a.value;if(l.includes(this.entry.original_device_class))this._deviceClassOptions[0]=l;else(c=this._deviceClassOptions[1]).push.apply(c,ne(l))}}catch(u){s.e(u)}finally{s.f()}}}}},{kind:"method",key:"render",value:function(){var e,t,n,E,C,P;if(this.entry.entity_id!==this._origEntityId)return(0,x.dy)(r||(r=te([""])));var S=this.hass.states[this.entry.entity_id],O=(0,M.M)(this.entry.entity_id),A=(0,M.M)(this._entityId.trim())!==O;return(0,x.dy)(i||(i=te(["\n      ","\n      ",'\n      <div class="form container">\n        <ha-textfield\n          .value=',"\n          .label=","\n          .invalid=","\n          .disabled=","\n          .placeholder=","\n          @input=","\n        ></ha-textfield>\n        <ha-icon-picker\n          .value=","\n          @value-changed=","\n          .label=","\n          .placeholder=","\n          .fallbackPath=","\n          .disabled=","\n        ></ha-icon-picker>\n        ","\n        ","\n        ","\n        ",'\n        <ha-textfield\n          error-message="Domain needs to stay the same"\n          .value=',"\n          .label=","\n          .invalid=","\n          .disabled=","\n          @input=","\n        ></ha-textfield>\n        ","\n        ","\n        <ha-expansion-panel\n          .header=",'\n          outlined\n        >\n          <div class="label">\n            ',':\n          </div>\n          <div class="secondary">\n            ','\n          </div>\n          <div class="row">\n            <mwc-formfield\n              .label=','\n            >\n              <ha-radio\n                name="hiddendisabled"\n                value="enabled"\n                .checked=',"\n                .disabled=","\n                @change=","\n              ></ha-radio>\n            </mwc-formfield>\n            <mwc-formfield\n              .label=",'\n            >\n              <ha-radio\n                name="hiddendisabled"\n                value="hidden"\n                .checked=',"\n                .disabled=","\n                @change=","\n              ></ha-radio>\n            </mwc-formfield>\n            <mwc-formfield\n              .label=",'\n            >\n              <ha-radio\n                name="hiddendisabled"\n                value="disabled"\n                .checked=',"\n                .disabled=","\n                @change=","\n              ></ha-radio>\n            </mwc-formfield>\n          </div>\n\n          ","\n          ",'\n        </ha-expansion-panel>\n      </div>\n      <div class="buttons">\n        <mwc-button\n          class="warning"\n          @click=',"\n          .disabled=","\n        >\n          ","\n        </mwc-button>\n        <mwc-button\n          @click=","\n          .disabled=","\n        >\n          ","\n        </mwc-button>\n      </div>\n    "])),S?"":(0,x.dy)(o||(o=te(['\n            <div class="container warning">\n              ',"\n              ","\n            </div>\n          "])),this.hass.localize("ui.dialogs.entity_registry.editor.unavailable"),null!==(e=this._device)&&void 0!==e&&e.disabled_by?(0,x.dy)(a||(a=te(["<br />","<br /><mwc-button @click=",">\n                      ","\n                    </mwc-button>"])),this.hass.localize("ui.dialogs.entity_registry.editor.device_disabled"),this._openDeviceSettings,this.hass.localize("ui.dialogs.entity_registry.editor.open_device_settings")):""),this._error?(0,x.dy)(s||(s=te(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this._name,this.hass.localize("ui.dialogs.entity_registry.editor.name"),A,this._submitting,this.entry.original_name,this._nameChanged,this._icon,this._iconChanged,this.hass.localize("ui.dialogs.entity_registry.editor.icon"),this.entry.original_icon||(null==S?void 0:S.attributes.icon),this._icon||null!=S&&S.attributes.icon||!S?void 0:(0,L.K)((0,M.M)(S.entity_id),S),this._submitting,this._deviceClassOptions?(0,x.dy)(c||(c=te(["\n              <ha-select\n                .label=","\n                .value=","\n                naturalMenuWidth\n                fixedMenuPosition\n                @selected=","\n                @closed=","\n              >\n                <mwc-list-item></mwc-list-item>\n                ","\n                ","\n                ","\n              </ha-select>\n            "])),this.hass.localize("ui.dialogs.entity_registry.editor.device_class"),this._deviceClass,this._deviceClassChanged,F.U,this._deviceClassesSorted(O,this._deviceClassOptions[0],this.hass.localize).map((function(e){return(0,x.dy)(l||(l=te(["\n                    <mwc-list-item .value=",">\n                      ","\n                    </mwc-list-item>\n                  "])),e.deviceClass,e.label)})),this._deviceClassOptions[0].length&&this._deviceClassOptions[1].length?(0,x.dy)(u||(u=te(['<li divider role="separator"></li>']))):"",this._deviceClassesSorted(O,this._deviceClassOptions[1],this.hass.localize).map((function(e){return(0,x.dy)(d||(d=te(["\n                    <mwc-list-item .value=",">\n                      ","\n                    </mwc-list-item>\n                  "])),e.deviceClass,e.label)}))):"",this._deviceClass&&null!=S&&S.attributes.unit_of_measurement&&null!==(t=je[this._deviceClass])&&void 0!==t&&t.includes(null==S?void 0:S.attributes.unit_of_measurement)?(0,x.dy)(f||(f=te(["\n              <ha-select\n                .label=","\n                .value=","\n                naturalMenuWidth\n                fixedMenuPosition\n                @selected=","\n                @closed=","\n              >\n                ","\n              </ha-select>\n            "])),this.hass.localize("ui.dialogs.entity_registry.editor.unit_of_measurement"),S.attributes.unit_of_measurement,this._unitChanged,F.U,je[this._deviceClass].map((function(e){return(0,x.dy)(h||(h=te(["\n                    <mwc-list-item .value=",">","</mwc-list-item>\n                  "])),e,e)}))):"","switch"===O?(0,x.dy)(p||(p=te(["<ha-select\n              .label=","\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=","\n              @closed=",'\n            >\n              <mwc-list-item\n                value="switch"\n                .selected=',"\n              >\n                ",'\n              </mwc-list-item>\n              <mwc-list-item\n                value="outlet"\n                .selected=',"\n              >\n                ",'\n              </mwc-list-item>\n              <li divider role="separator"></li>\n              ',"\n            </ha-select>"])),this.hass.localize("ui.dialogs.entity_registry.editor.device_class"),this._switchAsChanged,F.U,!this._deviceClass||"switch"===this._deviceClass,this.hass.localize("ui.dialogs.entity_registry.editor.device_classes.switch.switch"),"outlet"===this._deviceClass,this.hass.localize("ui.dialogs.entity_registry.editor.device_classes.switch.outlet"),this._switchAsDomainsSorted(Be,this.hass.localize).map((function(e){return(0,x.dy)(m||(m=te(["\n                  <mwc-list-item .value=",">\n                    ","\n                  </mwc-list-item>\n                "])),e.domain,e.label)}))):"",this._helperConfigEntry?(0,x.dy)(y||(y=te(['\n              <div class="row">\n                <mwc-button\n                  @click=',"\n                  .disabled=","\n                >\n                  ","\n                </mwc-button>\n              </div>\n            "])),this._showOptionsFlow,this._submitting,this.hass.localize("ui.dialogs.entity_registry.editor.configure_state","integration",(0,$.Lh)(this.hass.localize,this._helperConfigEntry.domain))):"",this._entityId,this.hass.localize("ui.dialogs.entity_registry.editor.entity_id"),A,this._submitting,this._entityIdChanged,this.entry.device_id?"":(0,x.dy)(v||(v=te(["<ha-area-picker\n              .hass=","\n              .value=","\n              @value-changed=","\n            ></ha-area-picker>"])),this.hass,this._areaId,this._areaPicked),this._cameraPrefs?(0,x.dy)(b||(b=te(['\n              <ha-settings-row>\n                <span slot="heading"\n                  >','</span\n                >\n                <span slot="description"\n                  >',"</span\n                >\n                <ha-switch\n                  .checked=","\n                  @change=","\n                >\n                </ha-switch>\n              </ha-settings-row>\n            "])),this.hass.localize("ui.dialogs.entity_registry.editor.preload_stream"),this.hass.localize("ui.dialogs.entity_registry.editor.preload_stream_description"),this._cameraPrefs.preload_stream,this._handleCameraPrefsChanged):"",this.hass.localize("ui.dialogs.entity_registry.editor.advanced"),this.hass.localize("ui.dialogs.entity_registry.editor.entity_status"),this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy?this.hass.localize("ui.dialogs.entity_registry.editor.enabled_cause","cause",this.hass.localize("config_entry.disabled_by.".concat(this._disabledBy))):"",this.hass.localize("ui.dialogs.entity_registry.editor.enabled_label"),!this._hiddenBy&&!this._disabledBy,this._hiddenBy&&"user"!==this._hiddenBy||(null===(n=this._device)||void 0===n?void 0:n.disabled_by)||this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy,this._viewStatusChanged,this.hass.localize("ui.dialogs.entity_registry.editor.hidden_label"),null!==this._hiddenBy,this._hiddenBy&&"user"!==this._hiddenBy||Boolean(null===(E=this._device)||void 0===E?void 0:E.disabled_by)||this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy,this._viewStatusChanged,this.hass.localize("ui.dialogs.entity_registry.editor.disabled_label"),null!==this._disabledBy,this._hiddenBy&&"user"!==this._hiddenBy||Boolean(null===(C=this._device)||void 0===C?void 0:C.disabled_by)||this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy,this._viewStatusChanged,null!==this._disabledBy?(0,x.dy)(_||(_=te(['\n                <div class="secondary">\n                  ',"\n                </div>\n              "])),this.hass.localize("ui.dialogs.entity_registry.editor.enabled_description")):null!==this._hiddenBy?(0,x.dy)(g||(g=te(['\n                <div class="secondary">\n                  ',"\n                </div>\n              "])),this.hass.localize("ui.dialogs.entity_registry.editor.hidden_description")):"",this.entry.device_id?(0,x.dy)(w||(w=te(['\n                <div class="label">\n                  ',":\n                </div>\n                <ha-area-picker\n                  .hass=","\n                  .value=","\n                  .placeholder=","\n                  .label=","\n                  @value-changed=",'\n                ></ha-area-picker>\n                <div class="secondary">\n                  ',"\n                  ","\n                </div>\n              "])),this.hass.localize("ui.dialogs.entity_registry.editor.change_area"),this.hass,this._areaId,null===(P=this._device)||void 0===P?void 0:P.area_id,this.hass.localize("ui.dialogs.entity_registry.editor.area"),this._areaPicked,this.hass.localize("ui.dialogs.entity_registry.editor.area_note"),this._device?(0,x.dy)(k||(k=te(['\n                        <button class="link" @click=',">\n                          ","\n                        </button>\n                      "])),this._openDeviceSettings,this.hass.localize("ui.dialogs.entity_registry.editor.change_device_area")):""):"",this._confirmDeleteEntry,this._submitting||!this._helperConfigEntry&&!(null!=S&&S.attributes.restored),this.hass.localize("ui.dialogs.entity_registry.editor.delete"),this._updateEntry,A||this._submitting,this.hass.localize("ui.dialogs.entity_registry.editor.update"))}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{kind:"method",key:"_entityIdChanged",value:function(e){this._error=void 0,this._entityId=e.target.value}},{kind:"method",key:"_deviceClassChanged",value:function(e){this._error=void 0,this._deviceClass=e.target.value}},{kind:"method",key:"_unitChanged",value:function(e){this._error=void 0,this._unit_of_measurement=e.target.value}},{kind:"method",key:"_switchAsChanged",value:function(e){if(""!==e.target.value){var t="outlet"===e.target.value?"switch":e.target.value;this._switchAs=t,"outlet"!==e.target.value&&"switch"!==e.target.value||(this._deviceClass=e.target.value)}}},{kind:"method",key:"_areaPicked",value:function(e){this._error=void 0,this._areaId=e.detail.value}},{kind:"method",key:"_fetchCameraPrefs",value:(D=ee(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.Xn)(this.hass,this.entry.entity_id);case 2:this._cameraPrefs=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{kind:"method",key:"_handleCameraPrefsChanged",value:(A=ee(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget,e.prev=1,e.next=4,(0,U.Mw)(this.hass,this.entry.entity_id,{preload_stream:n.checked});case 4:this._cameraPrefs=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(0,Z.Ys)(this,{text:e.t0.message}),n.checked=!n.checked;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return A.apply(this,arguments)})},{kind:"method",key:"_viewStatusChanged",value:function(e){switch(e.target.value){case"enabled":this._disabledBy=null,this._hiddenBy=null;break;case"disabled":this._disabledBy="user",this._hiddenBy=null;break;case"hidden":this._hiddenBy="user",this._disabledBy=null}}},{kind:"method",key:"_openDeviceSettings",value:function(){var e,t=this;(0,K.r)(this,{device:this._device,updateEntry:(e=ee(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.t1)(t.hass,t._device.id,n);case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_updateEntry",value:(S=ee(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,c,l,u,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._submitting=!0,n=this.getRootNode().host,r={name:this._name.trim()||null,icon:this._icon.trim()||null,area_id:this._areaId||null,device_class:this._deviceClass||null,new_entity_id:this._entityId.trim()},i=this.hass.states[this.entry.entity_id],o=(0,M.M)(this.entry.entity_id),this.entry.disabled_by===this._disabledBy||null!==this._disabledBy&&"user"!==this._disabledBy||(r.disabled_by=this._disabledBy),this.entry.hidden_by===this._hiddenBy||null!==this._hiddenBy&&"user"!==this._hiddenBy||(r.hidden_by=this._hiddenBy),"sensor"===o&&(null==i||null===(t=i.attributes)||void 0===t?void 0:t.unit_of_measurement)!==this._unit_of_measurement&&(r.options_domain="sensor",r.options={unit_of_measurement:this._unit_of_measurement}),e.prev=8,e.next=11,(0,z.Nv)(this.hass,this._origEntityId,r);case 11:(a=e.sent).require_restart&&(0,Z.Ys)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_restart_confirm")}),a.reload_delay&&(0,Z.Ys)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_delay_confirm","delay",a.reload_delay)}),(0,O.B)(this,"close-dialog"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),this._error=e.t0.message||"Unknown error";case 20:return e.prev=20,this._submitting=!1,e.finish(20);case 23:if("switch"===this._switchAs){e.next=39;break}return e.next=26,(0,Z.g7)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.switch_as_x_confirm","domain",this._switchAs)});case 26:if(e.sent){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,(0,q.Ky)(this.hass,"switch_as_x");case 30:return c=e.sent,e.next=33,(0,q.XO)(this.hass,c.flow_id,{entity_id:this._entityId.trim(),target_domain:this._switchAs});case 33:if(l=e.sent,null!==(s=l.result)&&void 0!==s&&s.entry_id){e.next=36;break}return e.abrupt("return");case 36:return e.next=38,this.hass.connection.subscribeEvents((function(){u(),(0,z.hg)(d.hass.connection).then((function(e){var t=e.find((function(e){return e.config_entry_id===l.result.entry_id}));t&&(0,Y.R)(n,{entity_id:t.entity_id})}))}),"entity_registry_updated");case 38:u=e.sent;case 39:case"end":return e.stop()}}),e,this,[[8,17,20,23]])}))),function(){return S.apply(this,arguments)})},{kind:"method",key:"_confirmDeleteEntry",value:(P=ee(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.g7)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.confirm_delete")});case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(this._submitting=!0,e.prev=5,!this._helperConfigEntry){e.next=11;break}return e.next=9,(0,W.iJ)(this.hass,this._helperConfigEntry.entry_id);case 9:e.next=13;break;case 11:return e.next=13,(0,z.z3)(this.hass,this._origEntityId);case 13:(0,O.B)(this,"close-dialog");case 14:return e.prev=14,this._submitting=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[5,,14,17]])}))),function(){return P.apply(this,arguments)})},{kind:"method",key:"_showOptionsFlow",value:(n=ee(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,X.c)(this,this._helperConfigEntry,null);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"field",key:"_switchAsDomainsSorted",value:function(){return(0,I.Z)((function(e,t){return e.map((function(e){return{domain:e,label:(0,$.Lh)(t,e)}})).sort((function(e,t){return(0,V.$)(e.label,t.label)}))}))}},{kind:"field",key:"_deviceClassesSorted",value:function(){return(0,I.Z)((function(e,t,n){return t.map((function(t){return{deviceClass:t,label:n("ui.dialogs.entity_registry.editor.device_classes.".concat(e,".").concat(t))}})).sort((function(e,t){return(0,V.$)(e.label,t.label)}))}))}},{kind:"get",static:!0,key:"styles",value:function(){return[T.Qx,(0,x.iv)(E||(E=te(["\n        :host {\n          display: block;\n        }\n        .container {\n          padding: 20px 24px;\n        }\n        .form {\n          margin-bottom: 53px;\n        }\n        .buttons {\n          position: absolute;\n          bottom: 0;\n          width: 100%;\n          box-sizing: border-box;\n          border-top: 1px solid\n            var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12));\n          display: flex;\n          justify-content: space-between;\n          padding: 8px;\n          padding-bottom: max(env(safe-area-inset-bottom), 8px);\n          background-color: var(--mdc-theme-surface, #fff);\n        }\n        ha-select {\n          width: 100%;\n          margin: 8px 0;\n        }\n        ha-switch {\n          margin-right: 16px;\n        }\n        ha-settings-row {\n          padding: 0;\n        }\n        ha-settings-row ha-switch {\n          margin-right: 0;\n        }\n        ha-textfield {\n          display: block;\n          margin: 8px 0;\n        }\n        ha-area-picker {\n          margin: 8px 0;\n          display: block;\n        }\n        .row {\n          margin: 8px 0;\n          color: var(--primary-text-color);\n          display: flex;\n          align-items: center;\n        }\n        .label {\n          margin-top: 16px;\n        }\n        .secondary {\n          margin: 8px 0;\n          width: 340px;\n        }\n        li[divider] {\n          border-bottom-color: var(--divider-color);\n        }\n      "])))]}}]}}),(0,G.f)(x.oi));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Re(o,r,i,a,s,"next",e)}function s(e){Re(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Me(e,t){return nt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||et(e,t)||Qe()}function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){return Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ve(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var i=Ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qe(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function $e(){$e=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Ge(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,nt(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||et(t)||Qe()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Je(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Ye(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Ye(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Xe(e){var t,n=Je(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Ze(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Ge(e){return e.decorators&&e.decorators.length}function Ke(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Ye(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Je(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ie(t)?t:String(t)}function Qe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e){if(Array.isArray(e))return e}var rt=function(e,t,n,r){var i=$e();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Ke(o.descriptor)||Ke(i.descriptor)){if(Ge(o)||Ge(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Ge(o)){if(Ge(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Ze(o,i)}else t.push(o)}return t}(a.d.map(Xe)),e);return i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,C.Mo)("dialog-entity-editor")],(function(e,t){var r,i,o=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(r,t);var n=Ue(r);function r(){var t;He(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(qe(t)),t}return r}(t);return{F:o,d:[{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_entry",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_curTab",value:function(){return"tab-settings"}},{kind:"field",decorators:[(0,C.SB)()],key:"_extraTabs",value:function(){return{}}},{kind:"field",decorators:[(0,C.SB)()],key:"_settingsElementTag",value:void 0},{kind:"field",key:"_curTabIndex",value:function(){return 0}},{kind:"method",key:"showDialog",value:function(e){this._params=e,this._entry=void 0,this._settingsElementTag=void 0,this._extraTabs={},this._getEntityReg()}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,O.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e=this;if(!this._params||void 0===this._entry)return(0,x.dy)(we||(we=Le([""])));var t=this._params.entity_id,n=this._entry,r=this.hass.states[t];return(0,x.dy)(ke||(ke=Le(["\n      <ha-dialog\n        open\n        .heading=","\n        hideActions\n        @closed=","\n        @close-dialog=",'\n      >\n        <div slot="heading">\n          <ha-header-bar>\n            <ha-icon-button\n              slot="navigationIcon"\n              .label=',"\n              .path=",'\n              dialogAction="cancel"\n            ></ha-icon-button>\n            <span slot="title">\n              ',"\n            </span>\n            ","\n          </ha-header-bar>\n          <mwc-tab-bar\n            .activeIndex=","\n            @MDCTabBar:activated=","\n            @MDCTab:interacted=",'\n          >\n            <mwc-tab\n              id="tab-settings"\n              .label=',"\n              dialogInitialFocus\n            >\n            </mwc-tab>\n            ",'\n            <mwc-tab\n              id="tab-related"\n              .label=','\n            >\n            </mwc-tab>\n          </mwc-tab-bar>\n        </div>\n        <div class="wrapper">',"</div>\n      </ha-dialog>\n    "])),r?(0,A.C)(r):(null==n?void 0:n.name)||t,this.closeDialog,this.closeDialog,this.hass.localize("ui.dialogs.entity_registry.dismiss"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",r?(0,A.C)(r):(null==n?void 0:n.name)||t,r?(0,x.dy)(Ee||(Ee=Le(['\n                  <ha-icon-button\n                    slot="actionItems"\n                    .label=',"\n                    .path=","\n                    @click=","\n                  ></ha-icon-button>\n                "])),this.hass.localize("ui.dialogs.entity_registry.control"),"M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z",this._openMoreInfo):"",this._curTabIndex,this._handleTabActivated,this._handleTabInteracted,this.hass.localize("ui.dialogs.entity_registry.settings"),Object.entries(this._extraTabs).map((function(t){var n=Me(t,2),r=n[0],i=n[1];return(0,x.dy)(xe||(xe=Le(["\n                <mwc-tab\n                  id=","\n                  .label=","\n                >\n                </mwc-tab>\n              "])),r,e.hass.localize(i.translationKey)||r)})),this.hass.localize("ui.dialogs.entity_registry.related"),(0,P.F)(this._renderTab()))}},{kind:"method",key:"_renderTab",value:function(){switch(this._curTab){case"tab-settings":return this._entry?this._settingsElementTag?(0,x.dy)(Ce||(Ce=Le(["\n              ","\n            "])),(0,S.h)(this._settingsElementTag,{hass:this.hass,entry:this._entry,entityId:this._params.entity_id})):(0,x.dy)(Pe||(Pe=Le([""]))):(0,x.dy)(Se||(Se=Le(['\n          <div class="content">\n            ',"\n          </div>\n        "])),this.hass.localize("ui.dialogs.entity_registry.no_unique_id","entity_id",this._params.entity_id,"faq_link",(0,x.dy)(Oe||(Oe=Le(["<a\n                href=",'\n                target="_blank"\n                rel="noreferrer"\n                >',"</a\n              >"])),(0,j.R)(this.hass,"/faq/unique_id"),this.hass.localize("ui.dialogs.entity_registry.faq"))));case"tab-related":return(0,x.dy)(Ae||(Ae=Le(['\n          <ha-related-items\n            class="content"\n            .hass=',"\n            .itemId=",'\n            itemType="entity"\n          ></ha-related-items>\n        '])),this.hass,this._params.entity_id);default:return(0,x.dy)(ze||(ze=Le([""])))}}},{kind:"method",key:"_getEntityReg",value:(i=Fe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,z.L3)(this.hass,this._params.entity_id);case 3:this._entry=e.sent,this._loadPlatformSettingTabs(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._entry=null;case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_handleTabActivated",value:function(e){this._curTabIndex=e.detail.index}},{kind:"method",key:"_handleTabInteracted",value:function(e){this._curTab=e.detail.tabId}},{kind:"method",key:"_loadPlatformSettingTabs",value:(r=Fe(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._entry){e.next=2;break}return e.abrupt("return");case 2:if(Object.keys(B).includes(this._entry.platform)){e.next=5;break}return this._settingsElementTag="entity-registry-settings",e.abrupt("return");case 5:return t=B[this._entry.platform],e.next=8,n(86853)("./".concat(t));case 8:this._settingsElementTag=t;case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{kind:"method",key:"_openMoreInfo",value:function(){(0,D.ku)(this),(0,O.B)(this,"hass-more-info",{entityId:this._params.entity_id}),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[T.yu,(0,x.iv)(De||(De=Le(["\n        ha-header-bar {\n          --mdc-theme-on-primary: var(--primary-text-color);\n          --mdc-theme-primary: var(--mdc-theme-surface);\n          flex-shrink: 0;\n        }\n\n        mwc-tab-bar {\n          border-bottom: 1px solid\n            var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12));\n        }\n\n        ha-dialog {\n          --dialog-content-position: static;\n          --dialog-content-padding: 0;\n          --dialog-z-index: 6;\n        }\n\n        @media all and (min-width: 451px) and (min-height: 501px) {\n          .wrapper {\n            min-width: 400px;\n          }\n        }\n\n        .content {\n          display: block;\n          padding: 20px 24px;\n        }\n\n        /* overrule the ha-style-dialog max-height on small screens */\n        @media all and (max-width: 450px), all and (max-height: 500px) {\n          ha-header-bar {\n            --mdc-theme-primary: var(--app-header-background-color);\n            --mdc-theme-on-primary: var(--app-header-text-color, white);\n          }\n        }\n\n        mwc-button.warning {\n          --mdc-theme-primary: var(--error-color);\n        }\n\n        :host([rtl]) app-toolbar {\n          direction: rtl;\n          text-align: right;\n        }\n      "])))]}}]}}),x.oi)},27322:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var r=function(e,t){return"https://".concat(e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(t)}},86853:function(e,t,n){var r={"./entity-settings-helper-tab":[1085,41985,51644,49842,1548,49075,8167,81545,12545,13701,34340,89643],"./entity-settings-helper-tab.ts":[1085,41985,51644,49842,1548,49075,8167,81545,12545,13701,34340,89643]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=86853,e.exports=i}}]);